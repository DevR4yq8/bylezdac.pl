<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8">
    <title>Formularze</title>
    <style>
        table, td {border: 1px solid #000; border-collapse: collapse; width: 600px;}
        textarea {width: 100%; height: 150px;}
    </style>
</head>
<body>

    <h1>Formularz</h1>
    <h2>Utworzyć formularz</h2>
    <div>1.Imię - imie: pierwsza litera duża, pozostałe małe</div><br>
    <div>2. Nazwisko - nazwisko: pierwsza literaduża, pozostałe małe</div><br>
    <div>3.Płeć - plec: M/K do wyboru</div><br>
    <div>4. Wykształcenie - wyksztalcenie: podstawowe, zawodowe, średnie, licencjiat, inżynierskie, wyższe</div><br>
    <div>5. Ulica - ulica: po wpisaniu przez użytkownika nazwy i numeru, na ekranie powinien adres być widoczny w schemacie ul. Aaaaaaaa x/y</div><br>
    <div>6. Kod miejscowości- kod: użytkownik wpisuje 5 cyfr, przygotowany schemat  -  _</div><br>
    <div>7. Nazwa miejscowości - miejscowosc: wg.zasad nazw własnych </div><br>
    <div>8. Wiek użytkownika - wiek: tylko liczby od 1 do 111 </div><br>
    <div>9. Numer telefonu komurkowego - telefon: cyfry wg schematu +XX YYY YYY YYY </div><br>
    <div>Adres e-mail - mail:koniecznie poprawny</div><br>
    <div>Pod formularzem utworzyć drugi z jednym dużym polem tekstowym, w którym znajdą się wszystkie informacjie z formularza pierwszego w postaci tekstowej (odpowiednio sformułowane, z wukorzystaniem RegExp)</div><br>
    <div>Nazwa ćwiczenia: js_formularz, waga ćwiczenia: 2, czas na wykonanie: 40' (1 lekcjia).</div><br>
    <form name="mojFormularz" action="" method="post">
        <table>
            <tr>
                <th colspan="3">Formularz</th>
            </tr>
            <tr>
                <td>Imię</td>
                <td>&nbsp;</td>
                <td><input type="text" id="imie" name="Imię" onblur="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();"></td>
            </tr>
            <tr>
                <td>Nazwisko</td>
                <td>&nbsp;</td>
                <td><input type="text" id="nazwisko" name="nazwisko" onblur="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();"></td>
            </tr>
            <tr>
                <td>Płeć</td>
                <td>&nbsp;</td>
                <td>
                    <input type="radio" name="plec" value="Mężczyzna"> M <br>
                    <input type="radio" name="plec" value="Kobieta"> K
                </td>
            </tr>
            <tr>
                <td>Wykształcenie</td>
                <td>&nbsp;</td>
                <td>
                    <select id="wyksztalcenie" name="darmowyPrezent">
                        <option value="">Wybierz</option>
                        <option value="Podstawowe">Podstawowe</option>
                        <option value="Średnie">Średnie</option>
                        <option value="Licencjat">Licencjat</option>
                        <option value="Inżynierskie">Inżynierskie</option>
                        <option value="Wyższe">Wyższe</option>
                    </select>
                </td>
            </tr>
			<tr>
				<td>Ulica</td>
				<td>&nbsp;</td>
				<td><input type="text" id="street" placeholder="Ulica" onblur="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase(); " 
                    oninput="this.value = this.value.replace(/^(\d{1})(\d*)/, 'ul. $1$2')"></td>></td>
			</tr>

				<tr>
					<td>numer</td>
                    <td>&nbsp;</td>
						</script></td>
					<td><input type="number" id="number" placeholder="Numer" ></td>
				</tr>
            <tr>
                <td>Kod pocztowy</td>
                <td>&nbsp;</td>
                <td><input type="text" id="kod" name="kod" placeholder="__-___" maxlength="6" oninput="this.value = this.value.replace(/\D/g, '').replace(/^(\d{2})(\d*)/, '$1-$2')"></td>
            </tr>
            <tr>
                <td>Miejscowość</td>
                <td>&nbsp;</td>
                <td><input type="text" id="miejscowosc" name="miejscowosc"  onblur="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();"></td>
            </tr>
            <tr>
                <td>Wiek</td>
                <td>&nbsp;</td>
                <td><input type="number" id="wiek" name="ilosc"  max="111" min="1" placeholder=" 1-111" ></td>
            </tr>
            <tr>
                <td>Numer Telefonu</td>
                <td>&nbsp;</td>
                <td><input type="tel" id="phone" name="phone" placeholder="+XX YYY YYY YYY" maxlength="15"  minlength="15" oninput="this.value = this.value.replace(/\D/g, '').replace(/(\d{2})(\d{3})(\d{3})(\d{3})/, '+$1 $2 $3 $4')"></td>
            </tr>
            <tr>
                <td>Email</td>
                <td>&nbsp;</td>
                <td><input type="email" id="email" placeholder="test@gmail.com"></td>
            </tr>
            <tr>

                <td><input type="button" value="Wyślij formularz" onclick="pokazPodsumowanie()"></td>
            </tr>
            <tr>

                <td><input type="button" value="Zresetuj" onclick="resetForm()"></td>
            </tr>
        </table>
    </form>

    <h2>Podsumowanie</h2>
    <textarea id="podsumowanie" readonly></textarea>

    <script>
        function pokazPodsumowanie() {
            let imie = document.getElementById("imie").value;
            let nazwisko = document.getElementById("nazwisko").value;
            let plec = document.querySelector('input[name="plec"]:checked')?.value;
            let wyksztalcenie = document.getElementById("wyksztalcenie").value;
            let ulica = document.getElementById("street").value;
            let numer = document.getElementById("number").value;
            let kod = document.getElementById("kod").value;
            let miejscowosc = document.getElementById("miejscowosc").value;
            let wiek = document.getElementById("wiek").value;
            let telefon = document.getElementById("phone").value;
            let email = document.getElementById("email").value;

            let brakujacePola = [];
            if (!imie) brakujacePola.push("Imię");
            if (!nazwisko) brakujacePola.push("Nazwisko");
            if (!plec) brakujacePola.push("Płeć");
            if (!wyksztalcenie) brakujacePola.push("Wykształcenie");
            if (!ulica) brakujacePola.push("Ulica");
            if (!numer) brakujacePola.push("Numer domu");
            if (!kod) brakujacePola.push("Kod pocztowy");
            if (!miejscowosc) brakujacePola.push("Miejscowość");
            if (!wiek) brakujacePola.push("Wiek");
            if (!telefon) brakujacePola.push("Numer telefonu");
            if (!email) brakujacePola.push("Email");

            if (brakujacePola.length > 0) {
                alert("Proszę uzupełnić następujące pola:\n" + brakujacePola.join());
                return;
            }

            let tekstPodsumowania = `Dane z formularza:
Imię: ${imie}
Nazwisko: ${nazwisko}
Płeć: ${plec}
Wykształcenie: ${wyksztalcenie}
Adres: ul. ${ulica} ${numer}, ${kod} ${miejscowosc}
Wiek: ${wiek}
Telefon: ${telefon}
Email: ${email}`;

            document.getElementById("podsumowanie").value = tekstPodsumowania;
        }

        function resetForm() {
            document.mojFormularz.reset();
            document.getElementById("podsumowanie").value = "";
        }
    </script>

</body>
</html>
